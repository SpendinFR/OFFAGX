{
  "desc_type": "planner_frag",
  "name": "gap_driven_planner",
  "code": "import os, json, time\\nGAP_DIR = 'mem/spec_gaps'\\n\\ndef _load_last_gaps():\\n    if not os.path.exists(GAP_DIR): return []\\n    files = sorted([f for f in os.listdir(GAP_DIR) if f.endswith('.json')])\\n    if not files: return []\\n    with open(os.path.join(GAP_DIR, files[-1]), 'r', encoding='utf-8') as f: return json.load(f).get('gaps',[])\\n\\ndef plan(ctx: dict) -> list[dict]:\\n    gen = ctx.get('gen',0)\\n    if gen % 9 != 0: return []\\n    gaps = _load_last_gaps()\\n    out = []\\n    for g in gaps:\\n        ax = g.get('axis')\\n        if ax == 'goal_alignment':\\n            out.append({\\n                'desc_type':'research_task',\\n                'topic':'inverse_host_goal',\\n                'note':'trouver la forme du but implicite',\\n                'missing':['text']\\n            })\\n        elif ax == 'math_depth':\\n            out.append({\\n                'desc_type':'math_task',\\n                'family':'hard',\\n                'note':'augmenter profondeur d√©monstration',\\n                'missing':['text']\\n            })\\n        elif ax == 'structural_search':\\n            out.append({\\n                'desc_type':'generator_experiment',\\n                'base':'generator_main_v0',\\n                'mut':'# auto-mut to increase search width',\\n                'missing':[]\\n            })\\n    return out\\n"
}
