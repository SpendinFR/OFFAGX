{
  "desc_type": "module_emit",
  "name": "self_host_fused_evaluator",
  "code": "import os, json, time\\nSELF = os.path.join('mem','self_pref','state.json')\\nHOST = os.path.join('mem','host_pref','state.json')\\nOUT = os.path.join('mem','self_pref','last_eval.json')\\n\\ndef _load(p):\\n    if not os.path.exists(p): return None\\n    with open(p,'r',encoding='utf-8') as f: return json.load(f)\\n\\ndef run(ctx=None):\\n    sst = _load(SELF) or {}\\n    hst = _load(HOST) or {}\\n    self_score = sst.get('last_self_score', 0.0)\\n    host_score = hst.get('last_host_score', 0.0)\\n    fused = 0.6 * self_score + 0.3 * host_score + 0.1\\n    ev = {\\n        'ts': time.time(),\\n        'self_score': self_score,\\n        'host_score': host_score,\\n        'fused_score': fused,\\n        'policy': 'self_dominant_v1'\\n    }\\n    os.makedirs(os.path.dirname(OUT), exist_ok=True)\\n    with open(OUT,'w',encoding='utf-8') as f: json.dump(ev,f,ensure_ascii=False,indent=2)\\n    # on renvoie un vrai desc pour le noyau s500/v900\\n    return {\\n        'desc_type': 'evaluator_result',\\n        'fused_score': fused,\\n        'self_score': self_score,\\n        'host_score': host_score,\\n        'note': 'self is primary'\\n    }"
}
