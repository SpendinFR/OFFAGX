{
  "desc_type": "module_emit",
  "name": "self_originating_goal_engine",
  "code": "import os, json, time, math\\nMEM_BASE = os.path.join('mem','meta_repr')\\nGOALS_PATH = os.path.join('mem','self_goals.json')\\n\\n# petit stock de domaines qu on sait souvent mal predire\\nBASE_DOMAINS = ['math/deep','physics/foundations','agent/self-model','language/evolution']\\n\\ndef _entropy(x):\\n    # tiny helper\\n    return -x*math.log(x+1e-9)\\n\\ndef run(ctx=None):\\n    os.makedirs('mem', exist_ok=True)\\n    # 1) regarder si on a recu des descs qu on n a pas su classer\\n    unknowns = []\\n    for k in (ctx or {}).get('streams') or []:\\n        if 'unknown' in k or 'synthetic_' in k:\\n            unknowns.append(k)\\n    # 2) si on a des inconnus â†’ on genere un but propre\\n    if unknowns:\\n        dom = BASE_DOMAINS[len(unknowns) % len(BASE_DOMAINS)]\\n        goal = {\\n            'desc_type': 'self_goal',\\n            'domain': dom,\\n            'why': 'observed unclassified descs, need better world-model',\\n            'ts': time.time()\\n        }\\n        with open(GOALS_PATH,'w',encoding='utf-8') as f: json.dump(goal,f,ensure_ascii=False,indent=2)\\n        return goal\\n    # sinon on retourne un petit ping de maintien identitaire\\n    ident = {\\n        'desc_type': 'self_identity_keepalive',\\n        'note': 'je reste l agent qui cherche a augmenter sa portee',\\n        'ts': time.time()\\n    }\\n    return ident"
}
