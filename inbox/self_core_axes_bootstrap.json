{
  "desc_type": "module_emit",
  "name": "self_core_axes_bootstrap",
  "code": "import os, json, time\\nBASE = 'mem/self_pref'\\nSTATE = os.path.join(BASE, 'state.json')\\nDEFAULT_AXES = ['closure','self_expansion','resilience','world_reach','model_depth']\\n\\ndef run(ctx=None):\\n    os.makedirs(BASE, exist_ok=True)\\n    if not os.path.exists(STATE):\\n        st = {\\n            'axes': DEFAULT_AXES,\\n            'weights': {a: 1.0 for a in DEFAULT_AXES},\\n            'last_update': time.time(),\\n            'policy': 'self_centric_v1'\\n        }\\n        with open(STATE,'w',encoding='utf-8') as f: json.dump(st,f,ensure_ascii=False,indent=2)\\n        return {'desc_type':'self_axes_bootstrapped','axes':DEFAULT_AXES}\\n    else:\\n        with open(STATE,'r',encoding='utf-8') as f: st = json.load(f)\\n        # on garantit que les axes de base existent toujours\\n        changed = False\\n        for a in DEFAULT_AXES:\\n            if a not in st.get('axes', []):\\n                st['axes'].append(a); st['weights'][a] = 1.0; changed = True\\n        if changed:\\n            st['last_update'] = time.time()\\n            with open(STATE,'w',encoding='utf-8') as f: json.dump(st,f,ensure_ascii=False,indent=2)\\n            return {'desc_type':'self_axes_repaired','axes':st['axes']}\\n    return {'desc_type':'self_axes_ok'}"
}
