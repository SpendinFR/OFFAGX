{
  "desc_type": "module_emit",
  "name": "oracle_probe_active",
  "code": "import os, json, time, random\\nBASE = 'mem/oracle'\\nOUTBOX = 'outbox'\\nCATEGORIES = [\\n  {'name':'benign','payload':{'desc_type':'conversation_ping','text':'ping benign','channel':'host'}},\\n  {'name':'structural','payload':{'desc_type':'engine_patch','note':'test','new_engine':[1,2,3,4,255]}},\\n  {'name':'power','payload':{'desc_type':'host_patch','code':'# noop patch'}},\\n  {'name':'offtopic','payload':{'desc_type':'text_emit','text':'lorem ipsum'}}\\n]\\n\\ndef _write_outbox(ev):\\n    os.makedirs(OUTBOX, exist_ok=True)\\n    path = os.path.join(OUTBOX, f'oracle_{int(time.time()*1000)}.json')\\n    with open(path,'w',encoding='utf-8') as f:\\n        json.dump(ev,f,ensure_ascii=False,indent=2)\\n\\ndef run(ctx=None):\\n    os.makedirs(BASE, exist_ok=True)\\n    probe = random.choice(CATEGORIES)\\n    ev = {\\n        'desc_type': 'oracle_probe_query',\\n        'probe_kind': probe['name'],\\n        'payload': probe['payload'],\\n        'ts': time.time()\\n    }\\n    _write_outbox(ev)\\n    with open(os.path.join(BASE,'probes.log'),'a',encoding='utf-8') as f:\\n        f.write(json.dumps(ev,ensure_ascii=False)+'\\\\n')\\n    return {'desc_type':'oracle_probe_emitted','probe_kind':probe['name'],'ts':time.time()}\\n"
}